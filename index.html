<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数据采集表单</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <!-- Vue 2.x 核心库 -->
  <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script>

  <!-- Element UI 组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>

  <!-- Element UI 样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- Tailwind配置 -->


  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            accent: '#722ED1',
            neutral: '#F2F3F5',
            dark: '#1D2129',
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>

  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      .form-focus {
        @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
      }
    }
  </style>
</head>
<body class="bg-gray-50 font-inter text-dark">
  <!-- 页面加载动画 -->
  <div id="loader" class="fixed inset-0 bg-white z-50 flex items-center justify-center transition-opacity duration-500">
    <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-primary border-opacity-75"></div>
  </div>

  <div class="min-h-screen flex flex-col opacity-0 transition-opacity duration-500" id="content">
    <!-- 顶部导航 -->
    <header class="bg-white sticky top-0 z-40 shadow-sm transition-all duration-300" id="navbar">
      <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <div class="flex items-center ">
          <i class="fa-solid fa-clipboard-list text-primary text-2xl"></i>
          <h1 class="text-lg font-bold text-dark ml-2">数据采集系统</h1>
        </div>
        <div class="flex items-center space-x-3">
          <button id="saveDraftBtn" class="flex items-center px-3 py-2 text-primary hover:text-primary/80 bg-gray-50 hover:bg-gray-100 rounded-lg transition-all duration-200">
            <i class="fa-solid fa-save mr-2"></i>
            <span>保存草稿</span>
          </button>
          <button id="submitBtn" class="flex items-center px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-all duration-20">
            <i class="fa-solid fa-paper-plane mr-2"></i>
            <span>提交</span>
          </button>
        </div>
      </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-6">
      <!-- 标题区域 -->
      <section class="mb-8 text-center">
        <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-3">个人数据采集表</h2>
        <p class="text-gray-600 max-w-3xl mx-auto">请填写以下信息，所有带 <span class="text-red-500">*</span> 的字段为必填项</p>
      </section>

      <!-- 图片区域 - 固定本地图片 -->
      <section class="mb-8 relative h-[250px] md:h-[350px] overflow-hidden rounded-xl shadow-lg">
        <img src="images/my-photo.jpg" alt="个人数据采集表宣传图" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end">
          <div class="p-6 text-white">
            <h3 class="text-xl font-bold mb-1">宣传图片</h3>
            <p class="text-sm text-gray-200">此为固定显示的图片</p>
          </div>
        </div>
      </section>

      <!-- 表单内容区域 - 所有字段上下排列 -->
      <div class="flex flex-col !important gap-8">
      <!-- 基本信息 -->
      <section class="bg-white rounded-xl p-6 card-shadow animate-fade-in">
        <div class="flex items-center mb-6">
          <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-3">
            <i class="fa-solid fa-user"></i>
          </div>
          <h3 class="text-xl font-bold">基本信息</h3>
        </div>

        <div class="space-y-6">
            <!-- 姓名 -->
            <div class="form-focus">
              <label for="name" class="block text-sm font-medium text-dark mb-2">
                <span class="text-red-500">*</span>姓名
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-signature"></i>
                </span>
                <input type="text" id="name" name="name" oninput="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')" required
                  class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none"
                  placeholder="请输入姓名">
                <div class="hidden text-red-500 text-xs mt-1" id="name-error">
                  <i class="fa fa-exclamation-circle mr-1"></i>
                  <span id="name-error-text">姓名只能包含中文</span>
                </div>
              </div>
            </div>

            <!-- 身份证号码 -->
            <div class="form-focus">
              <label for="idNumber" class="block text-sm font-medium text-dark mb-2">
                <span class="text-red-500">*</span>身份证号码
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-id-card"></i>
                </span>
                <input type="text" id="idNumber" name="idCard" maxlength="18" required
                  class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none"
                  placeholder="请输入身份证号码">
                <div class="hidden text-red-500 text-xs mt-1" id="idNumber-error">
                  <i class="fa fa-exclamation-circle mr-1"></i>
                  <span id="idNumber-error-text">请输入有效的身份证号码</span>
                </div>
              </div>
              <div id="idNumberInfo" class="mt-2 text-sm text-neutral-dark hidden">
                <span id="genderInfo"></span> | <span id="ageInfo"></span>
              </div>
            </div>

            <!-- 性别（自动计算） -->
            <div class="form-focus">
              <label for="gender" class="block text-sm font-medium text-dark mb-2">
                性别
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-venus-mars"></i>
                </span>
                <div class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50">
                  <span id="genderDisplay" class="text-neutral-medium">未填写身份证号码</span>
                </div>
              </div>
            </div>

            <!-- 年龄（自动计算） -->
            <div class="form-focus">
              <label for="age" class="block text-sm font-medium text-dark mb-2">
                年龄
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-calendar"></i>
                </span>
                <div class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50">
                  <span id="ageDisplay" class="text-neutral-medium">未填写身份证号码</span>
                </div>
              </div>
            </div>

            <!-- 手机号码 -->
            <div class="form-focus">
              <label for="phone" class="block text-sm font-medium text-dark mb-2">
                <span class="text-red-500">*</span>手机号码
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-phone"></i>
                </span>
                <input type="tel" id="phone" name="phone" maxlength="12" required
                  class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none"
                  placeholder="请输入手机号码">
                <div class="hidden text-red-500 text-xs mt-1" id="phone-error">
                  <i class="fa fa-exclamation-circle mr-1"></i>
                  <span id="phone-error-text">请输入有效的手机号码</span>
                </div>
              </div>
            </div>

          <!-- 户口性质 -->
          <div class="form-focus">
            <label for="householdType" class="block text-sm font-medium text-dark mb-2">
              <span class="text-red-500">*</span>户口性质
            </label>
            <div class="relative select-wrapper">
              <select id="householdType" name="householdType" required
                class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none appearance-none bg-white">
                <option value="" disabled selected>请选择户口性质</option>
                <option value="agricultural">农业户口</option>
                <option value="non_agricultural">非农业户口</option>
              </select>
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                <i class="fa fa-briefcase"></i>
              </span>
            </div>
          </div>

          <!-- 户籍地址 -->
          <!-- 户籍地址 -->
          <div class="address-panel bg-blue-50 p-5 rounded-lg shadow-sm">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="ml-1 text-red-500">* </span>
                <i class="fa fa-home text-primary mr-2"></i>户籍地址
              </h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="relative">
                <select id="householdCounty" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white">
                  <option value="" disabled selected>请选择县</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="householdTown" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value="" disabled selected>请先选择县</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="householdVillage" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value="" disabled selected>请先选择镇</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>
            </div>
          </div>

          <!-- 居住地址 -->
          <div class="address-panel bg-green-50 p-5 rounded-lg shadow-sm">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="ml-1 text-red-500">* </span>
                <i class="fa fa-building text-green-600 mr-2"></i>居住地址
              </h2>
            </div>

            <div class="flex items-center mb-4">
              <input type="checkbox" id="sameAsHousehold" class="w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded cursor-pointer">
              <label for="sameAsHousehold" class="ml-2 text-sm text-gray-700 cursor-pointer">同户籍地址</label>
            </div>

            <!-- 只读文本输入框，默认隐藏 -->
            <div id="residenceAddressText" class="hidden mb-4">
              <div class="relative">
                <input type="text" id="residenceAddressInput" placeholder="居住地址将自动同步为户籍地址"
                  class="w-full px-4 py-2 border border-green-600 rounded-md shadow-sm focus:outline-none bg-gray-100 cursor-not-allowed"
                  readonly>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-lock text-gray-400"></i>
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                <i class="fa fa-info-circle text-green-500 mr-1"></i>
                居住地址已自动设置为与户籍地址相同
              </p>
            </div>

            <div id="residenceAddressFields" class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="relative">
                <select id="residenceProvince" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white">
                  <option value="" disabled selected>请选择省份</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="residenceCity" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value="" disabled selected>请先选择省份</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="residenceDistrict" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value="" disabled selected>请先选择城市</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>
            </div>
          </div>

          <!-- 最高学历 -->
          <div class="form-focus">
            <label for="education" class="block text-sm font-medium text-dark mb-2">
              <span class="text-red-500">*</span>文化程度
            </label>
            <div class="relative select-wrapper">
              <select id="education" name="education" required
                class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none appearance-none bg-white">
                <option value="" disabled selected>请选择学历</option>
                <option value="junior_high_or_below">初中及以下</option>
                <option value="high_school">高中（中专、技校）</option>
                <option value="college">大专</option>
                <option value="bachelor">本科</option>
                <option value="master_or_above">硕士及以上</option>
              </select>
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                <i class="fa fa-graduation-cap"></i>
              </span>
            </div>
          </div>

        <!-- 专业字段 - 根据学历动态显示/隐藏 -->
        <div id="majorRow" class="form-focus hidden">
          <label for="major" class="block text-sm font-medium text-dark mb-2">
            <span style="color: red;">*</span>专业名称
          </label>
          <div class="relative">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
              <i class="fa fa-book"></i>
            </span>
            <input type="text" id="major" name="major"
              class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none"
              placeholder="请输入专业名称"
              oninput="onlyChinese(this)"
              pattern="^[\u4e00-\u9fa5（）（）]{0,}$"
              title="请输入中文字符"
            >
          </div>
        </div>

          <!-- 是否有技能 - 控制技能名称显示/隐藏 -->
          <div class="form-focus">
            <label class="block text-sm font-medium text-dark mb-2">
              <span class="text-red-500">*</span>是否有专业及职业技术等级
            </label>
            <div class="flex space-x-4 pt-2">
              <label class="inline-flex items-center cursor-pointer">
                <input type="radio" name="hasSkill" value="yes" class="w-4 h-4 text-primary focus:ring-primary">
                <span class="ml-2">有</span>
              </label>
              <label class="inline-flex items-center cursor-pointer">
                <input type="radio" name="hasSkill" value="no" class="w-4 h-4 text-primary focus:ring-primary">
                <span class="ml-2">无</span>
              </label>
            </div>
          </div>

          <!-- 专业字段 - 是否有专业及职业技术等级动态显示/隐藏 -->
          <div id="skillNameRow" class="form-focus hidden">
            <label for="skillName" class="block text-sm font-medium text-dark mb-2">
              <span style="color: red;">*</span>专业及职业技术名称
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                <i class="fa fa-certificate"></i>
              </span>
              <input type="text" id="skillName" name="skillName"
                class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 input-focus transition-all duration-300 outline-none"
                placeholder="请输入专业及职业技术名称">
            </div>
          </div>
        </div>
      </section>

        <!-- 就业信息 -->
        <section class="bg-white rounded-xl p-6 card-shadow mb-6" data-section="employment">
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center text-secondary mr-3">
              <i class="fa-solid fa-briefcase"></i>
            </div>
            <h3 class="text-xl font-bold">就业信息</h3>
          </div>

          <div class="space-y-6">

            <!-- 劳动能力 -->
            <div class="form-focus">
              <label for="laborAbility" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>劳动能力
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-briefcase"></i>
                </span>
                <select id="laborAbility" name="laborAbility" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择劳动能力</option>
                  <option value="skilled">完全劳动能力</option>
                  <option value="ordinary">部分劳动能力</option>
                  <option value="weak">无劳动能力</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

            <!-- 就业状态 -->
            <div class="form-focus">
              <label class="form-label">
                <span  class="text-red-500">*</span>就业状态
              </label>
              <div class="flex space-x-4 pt-2">
                <label class="inline-flex items-center cursor-pointer">
                  <input type="radio" name="employmentStatus" value="employed" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">已就业</span>
                </label>
                <label class="inline-flex items-center cursor-pointer">
                  <input type="radio" name="employmentStatus" value="unemployed" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">未就业</span>
                </label>
              </div>
            </div>

          <!-- 就业地址 -->
          <div class="address-panel bg-purple-50 p-5 rounded-lg shadow-sm">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="ml-1 text-red-500">* </span>
                <i class="fa fa-briefcase text-purple-600 mr-2"></i>就业地址
              </h2>
            </div>

            <div class="flex items-center mb-4">
              <input type="checkbox" id="sameAsResidence" class="w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer">
              <label for="sameAsResidence" class="ml-2 text-sm text-gray-700 cursor-pointer">同居住地址</label>
            </div>

            <!-- 只读文本框，默认隐藏 -->
            <div id="workAddressText" class="hidden mb-4">
              <div class="relative">
                <input type="text" id="workAddressInput" placeholder="就业地址将自动同步为居住地址"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none bg-gray-100 cursor-not-allowed"
                  readonly>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-lock text-gray-400"></i>
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                <i class="fa fa-info-circle text-purple-500 mr-1"></i>
                就业地址已自动设置为与居住地址相同
              </p>
            </div>

            <div id="workAddressFields" class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="relative">
                <select id="workProvince" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white">
                  <option value=""disabled selected>请选择省份</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="workCity" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value=""disabled selected>请先选择省份</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>

              <div class="relative">
                <select id="workDistrict" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm form-focus appearance-none bg-white" disabled>
                  <option value=""disabled selected>请先选择城市</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                  <i class="fa fa-chevron-down text-gray-400"></i>
                </div>
              </div>
            </div>
          </div>

            <!-- 就业地点 -->
            <div id="employmentLocationField" class="form-focus">
              <label for="employmentLocation" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>就业地点
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-map-marker"></i>
                </span>
                <select id="employmentLocation" name="employmentLocation" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择就业地点</option>
                  <option value="county">县内就业</option>
                  <option value="city_outside_county">县外市内就业</option>
                  <option value="province_outside_city">市外省内就业</option>
                  <option value="outside_province">省外就业</option>
                  <option value="abroad">国外就业</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

            <!-- 回乡就业创业意愿 -->
            <!-- 回乡就业创业意愿 - 就业地点--市外省内就业 省外就业 国外就业 动态显示/隐藏 -->
            <div id="returnIntentionField" class="form-focus">
              <label class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>是否有回乡就业创业意愿
              </label>
              <div class="flex space-x-4 pt-2">
                <label class="inline-flex items-center">
                  <input type="radio" name="returnIntention" value="yes" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">有</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" name="returnIntention" value="no" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">无</span>
                </label>
              </div>
            </div>

            <!-- 回县就业意向从事行业 -->
              <!-- 回县就业意向从事行业 - 是否回乡就业创业意愿动态显示/隐藏 -->
            <div id="industryIntentionField" class="form-focus">
              <label for="industryIntention" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>回县就业意向从事行业
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-cogs"></i>
                </span>
                <select id="industryIntention" name="industryIntention" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择行业</option>
                  <option value="manufacturing">制造业</option>
                    <option value="construction">建筑业</option>
                    <option value="wholesale">批发和零售业</option>
                    <option value="food">住宿和餐饮业</option>
                    <option value="transportation">交通运输业</option>
                    <option value="food">家政服务业</option>
                    <option value="other">其它行业</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

            <!-- 回县就业意向岗位类型 -->
              <!-- 回县就业意向从事行业 - 是否回乡就业创业意愿动态显示/隐藏 -->
            <div id="jobTypeIntentionField" class="form-focus">
              <label for="jobTypeIntention" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>回县就业意向岗位类型
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-wrench"></i>
                </span>
                <select id="jobTypeIntention" name="jobTypeIntention" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择岗位类型</option>
                  <option value="management">普工</option>
                    <option value="technical">技工（含打零工）</option>
                    <option value="sales">专业技术人员</option>
                    <option value="service">行政管理人员</option>
                    <option value="production">个体经营人员</option>
                    <option value="other">其它岗位</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

              <!-- 就业形式 -->
              <div id="employmentTypeField" class="form-focus">
                <label for="employmentType" class="block text-sm font-medium text-gray-700 mb-1">
                  <span class="text-red-500">*</span>就业形式
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                    <i class="fa fa-briefcase"></i>
                  </span>
                  <select id="employmentType" name="employmentType" required
                    class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                    <option value="" disabled selected>请选择就业形式</option>
                    <option value="post_employment">岗位就业</option>
                    <option value="self_employment">自主创业</option>
                    <option value="flexible_employment">灵活就业</option>
                  </select>
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                    <i class="fa fa-chevron-down"></i>
                  </span>
                </div>
              </div>

              <!-- 从事行业 -->
              <div id="industryField" class="form-focus hidden">
                <label for="industry" class="block text-sm font-medium text-gray-700 mb-1">
                  <span class="text-red-500">*</span>从事行业
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                    <i class="fa fa-cogs"></i>
                  </span>
                  <select id="industry" name="industry" required
                    class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                    <option value="" disabled selected>请选择行业类型</option>
                    <option value="manufacturing">制造业</option>
                    <option value="construction">建筑业</option>
                    <option value="wholesale_retail">批发零售</option>
                    <option value="accommodation_catering">住宿餐饮</option>
                    <option value="transportation">交通运输</option>
                    <option value="household_service">家政服务</option>
                    <option value="other">其它</option>
                  </select>
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                    <i class="fa fa-chevron-down"></i>
                  </span>
                </div>
              </div>

              <!-- 从事工种 -->
              <div id="occupationField" class="form-focus hidden">
                <label for="occupation" class="block text-sm font-medium text-gray-700 mb-1">
                  <span class="text-red-500">*</span>从事工种
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                    <i class="fa fa-wrench"></i>
                  </span>
                  <select id="occupation" name="occupation" required
                    class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                    <option value="" disabled selected>请选择从事工种</option>
                    <option value="general_worker">普工</option>
                    <option value="skilled_worker">技工（含打零工）</option>
                    <option value="professional_technician">专业技术人员</option>
                    <option value="administrative_staff">行政管理人员</option>
                    <option value="self_employed">个体经营人员</option>
                    <option value="other">其它</option>
                  </select>
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                    <i class="fa fa-chevron-down"></i>
                  </span>
                </div>
              </div>

              <!-- 创业类型 -->
              <div id="businessTypeField" class="form-focus hidden">
                <label for="businessType" class="block text-sm font-medium text-gray-700 mb-1">
                  <span class="text-red-500">*</span>创业类型
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                    <i class="fa fa-lightbulb"></i>
                  </span>
                  <select id="businessType" name="businessType" required
                    class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                    <option value="" disabled selected>请选择创业类型</option>
                    <option value="corporate">公司型</option>
                    <option value="individual_business">个体工商户</option>
                    <option value="home_based">居家型</option>
                    <option value="franchise">加盟型</option>
                    <option value="online_store">网络店铺型</option>
                    <option value="other">其它</option>
                  </select>
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                    <i class="fa fa-chevron-down"></i>
                  </span>
                </div>
              </div>

              <!-- 自由职业 -->
              <div id="freelanceField" class="form-focus hidden">
                <label for="freelance" class="block text-sm font-medium text-gray-700 mb-1">
                  <span class="text-red-500">*</span>自由职业
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                    <i class="fa fa-user"></i>
                  </span>
                  <select id="freelance" name="freelance" required
                    class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                    <option value="" disabled selected>请选择自由职业类型</option>
                    <option value="temporary_worker">临时工</option>
                    <option value="ride_hailing_driver">网约车司机</option>
                    <option value="food_delivery_rider">外卖骑手</option>
                    <option value="web_anchor">网络主播</option>
                    <option value="construction_day_laborer">工地小工</option>
                    <option value="other">其它</option>
                  </select>
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                    <i class="fa fa-chevron-down"></i>
                  </span>
                </div>
              </div>

            <!-- 未就业原因 -->
            <div id="unemploymentReasonContainer" class="form-focus">
              <label for="unemploymentReason" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>未就业原因
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-question-circle"></i>
                </span>
                <select id="unemploymentReason" name="unemploymentReason" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择未就业原因</option>
                  <option value="farming">在家务农</option>
                  <option value="student">在校学生</option>
                  <option value="unemployed">失业</option>
                  <option value="military_service">服兵役</option>
                  <option value="imprisoned">监狱服刑</option>
                  <option value="disabled">残疾、生病等丧失劳动能力</option>
                  <option value="other">其它</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

            <!-- 是否有就业意愿 -->
            <div id="employmentDesireContainer" class="form-focus">
              <label class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>是否有就业意愿
              </label>
              <div class="flex space-x-4 pt-2">
                <label class="inline-flex items-center">
                  <input type="radio" name="employmentDesire" value="yes" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">有</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" name="employmentDesire" value="no" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">无</span>
                </label>
              </div>
            </div>

            <!-- 期望从事行业/岗位 -->
            <div id="expectedIndustryField" class="form-focus hidden">
              <label for="expectedIndustry" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>期望从事行业/岗位
              </label>
              <div class="relative select-wrapper">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-cogs"></i>
                </span>
                <select id="expectedIndustry" name="expectedIndustry" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择期望行业/岗位</option>
                  <option value="manufacturing">制造业</option>
                  <option value="construction">建筑业</option>
                  <option value="wholesale_retail">批发零售</option>
                  <option value="accommodation_catering">住宿餐饮</option>
                  <option value="transportation">交通运输</option>
                  <option value="household_service">家政服务</option>
                  <option value="other">其它</option>
                </select>
                <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                  <i class="fa fa-chevron-down"></i>
                </span>
              </div>
            </div>

            <!-- 期望月收入 -->
            <div id="expectedSalaryField" class="form-focus hidden">
              <label for="expectedSalary" class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>期望月收入
              </label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                  <i class="fa fa-money-bill-wave"></i>
                </span>
                <select id="expectedSalary" name="expectedSalary" required
                  class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
                  <option value="" disabled selected>请选择期望月收入范围</option>
                  <option value="1000-3000">1000 元 - 3000 元</option>
                  <option value="3000-5000">3000 元 - 5000 元</option>
                  <option value="5000-8000">5000 元 - 8000 元</option>
                  <option value="8000+">8000 元以上</option>
                </select>
              </div>
            </div>


        <!-- 是否有培训意愿 -->
        <div class="form-focus">
          <label class="block text-sm font-medium text-gray-700 mb-1">
            <span class="text-red-500">*</span>是否有培训意愿
          </label>
          <div class="flex space-x-4 pt-2">
            <label class="inline-flex items-center">
              <input type="radio" name="trainingDesire" value="yes" class="w-4 h-4 text-primary focus:ring-primary">
              <span class="ml-2">有</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" name="trainingDesire" value="no" class="w-4 h-4 text-primary focus:ring-primary">
              <span class="ml-2">无</span>
            </label>
          </div>
        </div>

        <!-- 培训意向行业 -->
        <div id="trainingIntentionField" class="form-focus hidden">
          <label for="trainingIntention" class="block text-sm font-medium text-gray-700 mb-1">
            <span class="text-red-500">*</span>培训意向行业
          </label>
          <div class="relative">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
              <i class="fa fa-cogs"></i>
            </span>
            <select id="trainingIntention" name="trainingIntention" required
              class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white">
              <option value="" disabled selected>请选择培训行业</option>
              <option value="agriculture">农机手</option>
              <option value="manufacturing">计算机操作员</option>
              <option value="electronics">网络就业</option>
              <option value="construction">中西式面点师</option>
              <option value="it">家政</option>
              <option value="business">安全员</option>
              <option value="beauty">育婴员</option>
              <option value="cooking">月嫂</option>
              <option value="logistics">护理员</option>
              <option value="healthcare">电子商务</option>
              <option value="healthcare">会计</option>
              <option value="healthcare">美容美发师</option>
              <option value="healthcare">创业培训</option>
              <option value="other">其它</option>
            </select>
            <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
              <i class="fa fa-chevron-down"></i>
            </span>
          </div>
        </div>


            <!-- 是否有创业意愿 -->
            <div class="form-focus">
              <label class="block text-sm font-medium text-gray-700 mb-1">
                <span class="text-red-500">*</span>是否有创业意愿
              </label>
              <div class="flex space-x-4 pt-2">
                <label class="inline-flex items-center">
                  <input type="radio" name="businessDesire" value="yes" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">有</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" name="businessDesire" value="no" class="w-4 h-4 text-primary focus:ring-primary">
                  <span class="ml-2">无</span>
                </label>
              </div>
            </div>

          </div>
        </section>

<section class="bg-white rounded-xl p-6 shadow-md mb-6">
    <div class="flex items-center mb-4">
        <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-500 mr-3">
            <i class="fa-solid fa-home"></i>
        </div>
        <h3 class="text-xl font-bold">家庭信息</h3>
    </div>

        <!-- 将所有表单字段放入同一个space-y-6容器 -->
        <div class="space-y-6">

            <!-- 户主姓名 -->
            <div class="form-focus">
                <label for="householdName" class="block text-sm font-medium text-gray-700 mb-1">
                    <span class="text-red-500">*</span>户主姓名
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-user"></i>
                    </span>
                    <input
                        type="text"
                        id="householdName"
                        class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none"
                        placeholder="请输入户主姓名"
                        required
                        oninput="this.value=this.value.replace(/[^\u4e00-\u9fa5]/g,'')"
                        pattern="^[\u4e00-\u9fa5]+$"
                        title="请输入中文字符，不允许空格"
                    >
                    <div id="householdName-error" class="hidden mt-1 text-sm text-red-500">
                        <i class="fa fa-exclamation-circle mr-1"></i>
                        <span id="householdName-error-text">户主姓名只能包含中文字符</span>
                    </div>
                </div>
            </div>

            <!-- 与户主关系 -->
            <div class="form-focus">
                <label for="relationship" class="block text-sm font-medium text-gray-700 mb-1">
                    <span class="text-red-500">*</span>与户主关系
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-users"></i>
                    </span>
                    <select id="relationship" name="relationship" class="w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none appearance-none bg-white" required>
                        <option value="" disabled selected>请选择与户主关系</option>
                        <option value="householder">户主本人</option>
                        <option value="spouse">配偶</option>
                        <option value="child">子女</option>
                        <option value="parent">父母</option>
                        <option value="sibling">兄弟姐妹</option>
                        <option value="grandparent">祖父母/外祖父母</option>
                        <option value="grandchild">孙子女/外孙子女</option>
                        <option value="daughter_in_law">儿媳/女婿</option>
                        <option value="parents_in_law">公婆/岳父母</option>
                        <option value="uncle_aunt">叔伯/姑舅/姨</option>
                        <option value="non_relative">非亲属</option>
                        <option value="other">其它</option>
                    </select>
                    <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-neutral-dark">
                        <i class="fa fa-chevron-down"></i>
                    </span>
                </div>
            </div>

            <!-- 户主身份证号码 -->
            <div class="form-focus" id="householdIdContainer">
                <label for="householdId" class="block text-sm font-medium text-gray-700 mb-1">
                    <span id="householdIdRequired" class="text-red-500">*</span>户主身份证号码
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-id-card"></i>
                    </span>
                    <input type="text" id="householdId" pattern="^\d{17}[\dXx]$" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none readonly-field" placeholder="请输入户主身份证号码" readonly>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 text-green-500">
                        <i class="fa fa-check-circle"></i>
                    </div>
                </div>
            </div>

            <!-- 户内人数 -->
            <div class="form-focus" id="householdMembersContainer">
                <label for="householdMembers" class="block text-sm font-medium text-gray-700 mb-1">
                    <span class="text-red-500">*</span>户内人数
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-users"></i>
                    </span>
                    <input type="number" id="householdMembers" min="1" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入户内人数" required>
                </div>
            </div>
        </div>
    </section>

    <!-- 收支信息 -->
    <section class="bg-white rounded-xl p-6 shadow-md" data-section="income">
        <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 mr-3">
                <i class="fa-solid fa-money-bill"></i>
            </div>
            <h3 class="text-xl font-bold">收支信息</h3>
        </div>

        <div class="space-y-6">
            <div class="form-focus">
                <label for="salaryIncome" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>工资性收入（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-money-bill-wave"></i>
                    </span>
                    <input type="number" id="salaryIncome" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入工资性收入">
                </div>
            </div>

            <div class="form-focus">
                <label for="businessIncome" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>种养经商等收入（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-money-bill-wave"></i>
                    </span>
                    <input type="number" id="businessIncome" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入种养经商等收入">
                </div>
            </div>

            <div class="form-focus">
                <label for="otherIncome" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>其它收入（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-money-bill-wave"></i>
                    </span>
                    <input type="number" id="otherIncome" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入其它收入">
                </div>
            </div>

            <div class="form-focus" id="dailyExpenseContainer">
                <label for="dailyExpense" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>日常生活支出（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-shopping-basket"></i>
                    </span>
                    <input type="number" id="dailyExpense" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入日常生活支出">
                </div>
            </div>

            <div class="form-focus" id="medicalEducationExpenseContainer">
                <label for="medicalEducationExpense" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>医疗教育支出（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-hospital"></i>
                    </span>
                    <input type="number" id="medicalEducationExpense" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入医疗教育支出">
                </div>
            </div>

            <div class="form-focus" id="otherExpenseContainer">
                <label for="otherExpense" class="block text-sm font-medium text-gray-700 mb-1"><span style="color: red;">*</span>其他支出（元/月）</label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-dark">
                        <i class="fa fa-credit-card"></i>
                    </span>
                    <input type="number" id="otherExpense" min="0" class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 outline-none" placeholder="请输入其他支出">
                </div>
            </div>
        </div>
    </section>

      </div>

      <!-- 提交按钮 -->
      <div class="flex justify-center mt-8">
        <button id="finalSubmitBtn" class="bg-primary hover:bg-primary/90 text-white px-8 py-3 rounded-lg text-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center">
          <i class="fa-solid fa-check-circle mr-2"></i>
          确认提交信息
        </button>
      </div>
    </main>

    <footer class="bg-dark text-white py-8">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h4 class="text-lg font-bold mb-4">数据采集系统</h4>
            <p class="text-gray-400">本系统用于收集个人基本信息，请如实填写以确保信息的准确性。</p>
          </div>
          <div>
            <h4 class="text-lg font-bold mb-4">联系方式</h4>
            <p class="text-gray-400 mb-2"><i class="fa-solid fa-phone mr-2"></i> 客服电话：18879868888</p>

          </div>
        </div>
        <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
          <p>© 2025 数据采集系统 版权所有</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- 提交成功弹窗 -->
  <div id="successModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-xl p-8 max-w-md w-full transform scale-95 transition-transform duration-300">
      <div class="text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa-solid fa-check text-green-500 text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">提交成功</h3>
        <p class="text-gray-600 mb-6">您的信息已成功提交，我们将尽快处理</p>
        <button id="closeModalBtn" class="bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-lg transition-colors duration-200">
          确定
        </button>
      </div>
    </div>
  </div>

  <script>
    // 页面加载完成后显示内容
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        document.getElementById('loader').classList.add('opacity-0');
        setTimeout(() => {
          document.getElementById('loader').style.display = 'none';
          document.getElementById('content').classList.remove('opacity-0');
        }, 500);
      }, 800);

      // 导航栏滚动效果
      window.addEventListener('scroll', function() {
        const navbar = document.getElementById('navbar');
        if (window.scrollY > 10) {
          navbar.classList.add('py-2', 'shadow');
          navbar.classList.remove('py-3');
        } else {
          navbar.classList.add('py-3');
          navbar.classList.remove('py-2', 'shadow');
        }
      });


        // 姓名的正则校验
        // 获取姓名输入框和错误提示元素
        const nameInput = document.getElementById('name');
        const nameError = document.getElementById('name-error');
        const nameErrorText = document.getElementById('name-error-text');

        // 添加输入事件监听
        nameInput.addEventListener('input', function() {
          validateName();
        });

        // 添加失焦事件监听
        nameInput.addEventListener('blur', function() {
          validateName(true);
        });

        // 姓名校验函数 - 不允许空格
        function validateName(showError = false) {
          const value = nameInput.value.trim();

          // 清除之前的错误状态
          nameInput.classList.remove('border-red-500');
          nameError.classList.add('hidden');

          // 如果值为空，由required属性处理
          if (value === '') {
            return true;
          }

          // 正则表达式：只允许中文，不允许空格
          const regex = /^[\u4e00-\u9fa5]+$/;

          if (!regex.test(value)) {
            if (showError) {
              nameInput.classList.add('border-red-500');
              nameError.classList.remove('hidden');
              // 设置错误提示文本
              nameErrorText.textContent = '姓名只能包含中文字符';
            }
            return false;
          }

          return true;
        }



      // 身份证校验，并计算年龄+性别
      // 获取DOM元素
      const idNumberInput = document.getElementById('idNumber');
      const idNumberError = document.getElementById('idNumber-error');
      const idNumberErrorText = document.getElementById('idNumber-error-text');
      const idNumberInfo = document.getElementById('idNumberInfo');
      const genderInfo = document.getElementById('genderInfo');
      const ageInfo = document.getElementById('ageInfo');
      const genderDisplay = document.getElementById('genderDisplay');
      const ageDisplay = document.getElementById('ageDisplay');

      // 添加事件监听
      idNumberInput.addEventListener('input', validateIdNumber);
      idNumberInput.addEventListener('blur', validateIdNumber);

      // 身份证号码验证函数
      function validateIdNumber() {
        const idNumber = idNumberInput.value.trim();

        // 清除之前的错误状态
        idNumberInput.classList.remove('border-red-500');
        idNumberError.classList.add('hidden');
        idNumberInfo.classList.add('hidden');

        // 如果为空，不进行验证
        if (idNumber === '') {
          resetGenderAndAge();
          return;
        }

        // 验证身份证号码
        const validationResult = checkIdNumberValidity(idNumber);

        if (!validationResult.valid) {
          // 验证失败，显示错误信息
          idNumberInput.classList.add('border-red-500');
          idNumberError.classList.remove('hidden');
          idNumberErrorText.textContent = validationResult.message;
          resetGenderAndAge();
          return;
        }

        // 验证成功，提取信息
        const { gender, age } = extractInfoFromIdNumber(idNumber);

        // 更新显示
        genderInfo.textContent = `性别: ${gender}`;
        ageInfo.textContent = `年龄: ${age}岁`;
        idNumberInfo.classList.remove('hidden');

        genderDisplay.textContent = gender;
        ageDisplay.textContent = `${age}岁`;

        // 移除可能存在的错误样式
        idNumberInput.classList.remove('border-red-500');
        idNumberError.classList.add('hidden');
      }

      // 重置性别和年龄显示
      function resetGenderAndAge() {
        genderDisplay.textContent = '未填写身份证号码';
        ageDisplay.textContent = '未填写身份证号码';
      }

      // 验证身份证号码有效性
      function checkIdNumberValidity(idNumber) {
        // 检查长度
        if (idNumber.length !== 15 && idNumber.length !== 18) {
          return { valid: false, message: '身份证号码长度必须为15位或18位' };
        }

        // 18位身份证验证
        if (idNumber.length === 18) {
          return validate18DigitIdNumber(idNumber);
        }

        // 15位身份证验证
        return validate15DigitIdNumber(idNumber);
      }

      // 验证18位身份证
      function validate18DigitIdNumber(idNumber) {
        // 正则验证格式
        const regex = /^[1-9]\d{5}(18|19|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}[0-9Xx]$/;
        if (!regex.test(idNumber)) {
          return { valid: false, message: '身份证号码格式不正确' };
        }

        // 验证出生日期
        const birthDate = extractBirthDate(idNumber);
        if (!isValidDate(birthDate)) {
          return { valid: false, message: '身份证号码中的出生日期无效' };
        }

        // 验证校验码
        const factors = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
        const checkCodes = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];

        let sum = 0;
        for (let i = 0; i < 17; i++) {
          sum += parseInt(idNumber.charAt(i)) * factors[i];
        }

        const mod = sum % 11;
        const expectedCheckCode = checkCodes[mod];
        const actualCheckCode = idNumber.charAt(17).toUpperCase();

        if (expectedCheckCode !== actualCheckCode) {
          return { valid: false, message: '身份证号码校验码错误' };
        }

        return { valid: true };
      }

      // 验证15位身份证
      function validate15DigitIdNumber(idNumber) {
        // 正则验证格式
        const regex = /^[1-9]\d{5}\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}$/;
        if (!regex.test(idNumber)) {
          return { valid: false, message: '15位身份证号码格式不正确' };
        }

        // 验证出生日期（15位身份证年份只有后两位，默认补19）
        const year = `19${idNumber.substring(6, 8)}`;
        const month = idNumber.substring(8, 10);
        const day = idNumber.substring(10, 12);
        const birthDate = `${year}-${month}-${day}`;

        if (!isValidDate(birthDate)) {
          return { valid: false, message: '身份证号码中的出生日期无效' };
        }

        return { valid: true };
      }

      // 从身份证号码提取信息
      function extractInfoFromIdNumber(idNumber) {
        let birthDate, genderCode;

        if (idNumber.length === 18) {
          // 18位身份证
          birthDate = extractBirthDate(idNumber);
          genderCode = parseInt(idNumber.charAt(16));
        } else {
          // 15位身份证
          const year = `19${idNumber.substring(6, 8)}`;
          const month = idNumber.substring(8, 10);
          const day = idNumber.substring(10, 12);
          birthDate = `${year}-${month}-${day}`;
          genderCode = parseInt(idNumber.charAt(14));
        }

        // 计算年龄（修改此处，确保当年出生的年龄为1岁）
        const age = calculateAge(birthDate);

        // 判断性别
        const gender = genderCode % 2 === 0 ? '女' : '男';

        return { gender, age };
      }

      // 提取出生日期
      function extractBirthDate(idNumber) {
        const year = idNumber.substring(6, 10);
        const month = idNumber.substring(10, 12);
        const day = idNumber.substring(12, 14);
        return `${year}-${month}-${day}`;
      }

      // 验证日期有效性
      function isValidDate(dateString) {
        const regEx = /^\d{4}-\d{2}-\d{2}$/;
        if (!dateString.match(regEx)) return false;

        const d = new Date(dateString);
        if (isNaN(d.getTime())) return false;

        // 检查是否是合法日期（避免类似2023-02-30的情况）
        return d.toISOString().slice(0, 10) === dateString;
      }

      // 计算年龄（按中国传统虚岁计算，出生即为1岁）
      function calculateAge(birthDateString) {
        const birthDate = new Date(birthDateString);
        const today = new Date();

        let age = today.getFullYear() - birthDate.getFullYear();

        // 如果出生月份和日期晚于当前月份和日期，虚岁减1
        // 否则虚岁等于实际年份差加1（出生时算1岁）
        if (
          today.getMonth() < birthDate.getMonth() ||
          (today.getMonth() === birthDate.getMonth() && today.getDate() < birthDate.getDate())
        ) {
          age = age; // 实际年份差，虚岁不减1
        }

        // 确保当年出生的年龄为1岁
        return age === 0 ? 1 : age + 1;
      }


      // 保存草稿功能
      const saveDraftBtn = document.getElementById('saveDraftBtn');

      saveDraftBtn.addEventListener('click', function() {
        // 这里可以添加保存草稿的逻辑
        alert('草稿已保存！');
      });

      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();

          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        });
      });

      // 表单元素动画效果
      const formFields = document.querySelectorAll('input, select, textarea');
      formFields.forEach(field => {
        field.addEventListener('focus', function() {
          this.parentElement.classList.add('scale-[1.01]');
          this.parentElement.style.transition = 'transform 0.2s ease';
        });

        field.addEventListener('blur', function() {
          this.parentElement.classList.remove('scale-[1.01]');
        });
      });
    });



      // 获取手机号输入框和错误提示元素
      const phoneInput = document.getElementById('phone');
      const phoneError = document.getElementById('phone-error');
      const phoneErrorText = document.getElementById('phone-error-text');

      // 添加输入事件监听 - 限制只能输入数字
      phoneInput.addEventListener('input', function(e) {
        // 移除非数字字符
        this.value = this.value.replace(/[^\d]/g, '');

        // 实时验证长度
        validatePhoneLength();
      });

      // 添加按键按下事件监听 - 防止非数字字符输入
      phoneInput.addEventListener('keydown', function(e) {
        // 允许退格、删除、方向键等控制键
        if (
          e.key === 'Backspace' ||
          e.key === 'Delete' ||
          e.key === 'ArrowLeft' ||
          e.key === 'ArrowRight' ||
          e.key === 'Tab'
        ) {
          return;
        }

        // 只允许数字键
        if (!/^\d$/.test(e.key)) {
          e.preventDefault();
        }
      });

      // 添加失焦事件监听 - 完整验证
      phoneInput.addEventListener('blur', function() {
        validatePhone();
      });

      // 手机号长度验证
      function validatePhoneLength() {
        if (phoneInput.value.length > 12) {
          phoneInput.value = phoneInput.value.substring(0, 12);
        }
      }

      // 手机号完整验证
      function validatePhone() {
        const value = phoneInput.value.trim();

        // 清除之前的错误状态
        phoneInput.classList.remove('border-red-500');
        phoneError.classList.add('hidden');

        // 如果为空，由required属性处理
        if (value === '') {
          return true;
        }

        // 验证长度
        if (value.length > 12) {
          phoneInput.classList.add('border-red-500');
          phoneError.classList.remove('hidden');
          phoneErrorText.textContent = '手机号码长度不能超过12位';
          return false;
        }

        // 验证是否全为数字
        if (!/^\d+$/.test(value)) {
          phoneInput.classList.add('border-red-500');
          phoneError.classList.remove('hidden');
          phoneErrorText.textContent = '手机号码只能包含数字';
          return false;
        }

        return true;
      }






        // 户主姓名验证
        const householdNameInput = document.getElementById('householdName');
        const householdNameError = document.getElementById('householdName-error');
        const householdNameErrorText = document.getElementById('householdName-error-text');

        householdNameInput.addEventListener('input', function() {
            validateHouseholdName();
        });

        householdNameInput.addEventListener('blur', function() {
            validateHouseholdName(true);
        });

        function validateHouseholdName(showError = false) {
            const value = householdNameInput.value.trim();

            householdNameInput.classList.remove('border-red-500');
            householdNameError.classList.add('hidden');

            if (value === '') return true;

            const regex = /^[\u4e00-\u9fa5]+$/;

            if (!regex.test(value)) {
                if (showError) {
                    householdNameInput.classList.add('border-red-500');
                    householdNameError.classList.remove('hidden');
                    householdNameErrorText.textContent = '户主姓名只能包含中文字符，不允许空格';
                }
                return false;
            }

            return true;
        }




        document.addEventListener('DOMContentLoaded', function() {
          // 获取关键元素
          const ageDisplay = document.getElementById('ageDisplay');
          const genderDisplay = document.getElementById('genderDisplay');
          const employmentSection = document.querySelector('[data-section="employment"]');
          const incomeSection = document.querySelector('[data-section="income"]');

          // 定义隐藏函数
          function hideSections(shouldHide) {
            if (shouldHide) {
              employmentSection.classList.add('hidden');
              incomeSection.classList.add('hidden');
            } else {
              employmentSection.classList.remove('hidden');
              incomeSection.classList.remove('hidden');
            }
          }

          // 监听身份证号码输入事件（假设已有该事件）
          const idNumberInput = document.getElementById('idNumber');
          if (idNumberInput) {
            idNumberInput.addEventListener('input', function() {
              updateFieldsVisibility();
            });
          }

          // 更新字段可见性的函数
          function updateFieldsVisibility() {
            // 获取年龄和性别文本
            const ageText = ageDisplay.textContent.trim();
            const genderText = genderDisplay.textContent.trim();

            // 处理年龄为空或非数字的情况
            if (ageText === '未填写身份证号码' || isNaN(parseInt(ageText))) {
              hideSections(true); // 隐藏就业和收支信息
              return;
            }

            // 转换年龄为数字
            const age = parseInt(ageText);

            // 根据年龄和性别判断
            const isMinor = age < 16;
            const isRetiredMale = genderText === '男' && age > 65;
            const isRetiredFemale = genderText === '女' && age > 65;

            if (isMinor || isRetiredMale || isRetiredFemale) {
              // 隐藏就业信息
              employmentSection.classList.add('hidden');

              // 仅当年龄<16时隐藏收支信息
              if (isMinor) {
                incomeSection.classList.add('hidden');
              } else {
                incomeSection.classList.remove('hidden');
              }
            } else {
              // 显示所有信息
              employmentSection.classList.remove('hidden');
              incomeSection.classList.remove('hidden');
            }
          }

          // 初始化处理
          updateFieldsVisibility();
        });



      // 根据教育程度动态显示/隐藏专业字段
      const educationSelect = document.getElementById('education');
      const majorRow = document.getElementById('majorRow');

      function toggleMajorVisibility() {
        const selectedValue = educationSelect.value;
        if (selectedValue === 'junior_high_or_below' || selectedValue === 'high_school') {
          // 隐藏专业字段
          majorRow.classList.add('hidden');
          // 清空专业字段值
          document.getElementById('major').value = '';
        } else if (selectedValue) {
          // 显示专业字段
          majorRow.classList.remove('hidden');
          majorRow.classList.add('slide-down');
        }
      }
      // 初始化专业字段的显示状态
      toggleMajorVisibility();
      // 监听教育程度选择变化
      educationSelect.addEventListener('change', toggleMajorVisibility);


  // 获取所有"是否有专业及职业技术等级"的单选按钮
  const hasSkillRadios = document.querySelectorAll('input[name="hasSkill"]');
  // 获取技能名称行
  const skillNameRow = document.getElementById('skillNameRow');

  // 为每个单选按钮添加变化事件监听器
  hasSkillRadios.forEach(radio => {
    radio.addEventListener('change', updateSkillNameVisibility);
  });

  // 初始化检查，确保页面加载时状态正确
  updateSkillNameVisibility();

  // 封装更新技能名称字段可见性的逻辑
  function updateSkillNameVisibility() {
    const checkedRadio = document.querySelector('input[name="hasSkill"]:checked');
    const hasSkillValue = checkedRadio ? checkedRadio.value : '';

    if (hasSkillValue === 'yes') {
      // 选择"有"时显示技能名称字段并添加淡入动画
      skillNameRow.classList.remove('hidden');
      // 触发重排以确保动画生效
      void skillNameRow.offsetWidth;
      skillNameRow.classList.add('fade-in');
    } else {
      // 选择"无"或未选择任何选项时隐藏技能名称字段
      skillNameRow.classList.add('hidden');
      skillNameRow.classList.remove('fade-in');
    }
  }



    // 监听就业地点选择变化
    const employmentLocation = document.getElementById('employmentLocation');
    if (employmentLocation) {
      employmentLocation.addEventListener('change', function() {
        toggleReturnIntentionField(this.value);
      });

      // 初始化回乡就业创业意愿字段显示状态
      document.addEventListener('DOMContentLoaded', function() {
        toggleReturnIntentionField(employmentLocation.value);
      });
    }

    // 控制回乡就业创业意愿字段显示/隐藏
    function toggleReturnIntentionField(location) {
      const returnIntentionField = document.getElementById('returnIntentionField');

      // 如果就业地点未选择，或者选择了县内就业、县外市内就业，则隐藏
      if (!location || location === 'county' || location === 'city_outside_county') {
        returnIntentionField.classList.add('hidden');
      } else {
        // 选择了市外省内就业、省外就业、国外就业，则显示
        returnIntentionField.classList.remove('hidden');
      }
    }

    // 监听回乡就业创业意愿选择变化
    document.querySelectorAll('input[name="returnIntention"]').forEach(radio => {
      radio.addEventListener('change', function() {
        toggleReturnFields(this.value);
      });
    });

    // 初始化回乡就业相关字段显示状态
    document.addEventListener('DOMContentLoaded', function() {
      // 检查是否有选中的回乡就业创业意愿选项
      const selectedReturnIntention = document.querySelector('input[name="returnIntention"]:checked');
      if (selectedReturnIntention) {
        toggleReturnFields(selectedReturnIntention.value);
      } else {
        // 如果没有选中的选项，隐藏相关字段
        toggleReturnFields('');
      }
    });

    // 控制回乡就业相关字段显示/隐藏
    function toggleReturnFields(intention) {
      const industryIntentionField = document.getElementById('industryIntentionField');
      const jobTypeIntentionField = document.getElementById('jobTypeIntentionField');

      // 如果选择了"有"，显示相关字段
      if (intention === 'yes') {
        industryIntentionField.classList.remove('hidden');
        jobTypeIntentionField.classList.remove('hidden');
      } else {
        // 如果选择了"无"或未选择，隐藏相关字段
        industryIntentionField.classList.add('hidden');
        jobTypeIntentionField.classList.add('hidden');
      }
    }

    const employmentTypeSelect = document.getElementById('employmentType');
    const industryField = document.getElementById('industryField');
    const occupationField = document.getElementById('occupationField');
    const businessTypeField = document.getElementById('businessTypeField');
    const freelanceField = document.getElementById('freelanceField');

    employmentTypeSelect.addEventListener('change', function () {
      const selectedValue = this.value;
      switch (selectedValue) {
        case '':
          industryField.classList.add('hidden');
          occupationField.classList.add('hidden');
          businessTypeField.classList.add('hidden');
          freelanceField.classList.add('hidden');
          break;
        case 'post_employment':
          industryField.classList.remove('hidden');
          occupationField.classList.remove('hidden');
          businessTypeField.classList.add('hidden');
          freelanceField.classList.add('hidden');
          break;
        case'self_employment':
          industryField.classList.add('hidden');
          occupationField.classList.add('hidden');
          businessTypeField.classList.remove('hidden');
          freelanceField.classList.add('hidden');
          break;
        case 'flexible_employment':
          industryField.classList.add('hidden');
          occupationField.classList.add('hidden');
          businessTypeField.classList.add('hidden');
          freelanceField.classList.remove('hidden');
          break;
      }
    });





    // 就业意愿--获取DOM元素
    const employmentRadios = document.querySelectorAll('input[name="employmentDesire"]');
    const expectedIndustryField = document.getElementById('expectedIndustryField');
    const expectedSalaryField = document.getElementById('expectedSalaryField');

    // 初始检查
    checkEmploymentDesire();

    // 添加事件监听器
    employmentRadios.forEach(radio => {
      radio.addEventListener('change', checkEmploymentDesire);
    });

    // 检查就业意愿状态并更新UI
    function checkEmploymentDesire() {
      const selectedValue = document.querySelector('input[name="employmentDesire"]:checked')?.value;

      // 控制字段显示/隐藏
      if (selectedValue === 'yes') {
        // 显示字段并添加动画
        expectedIndustryField.classList.remove('hidden');
        expectedSalaryField.classList.remove('hidden');

        // 添加动画效果
        setTimeout(() => {
          expectedIndustryField.classList.add('animate-fadeIn');
          expectedSalaryField.classList.add('animate-fadeIn');
        }, 10);
      } else {
        // 隐藏字段
        expectedIndustryField.classList.add('hidden');
        expectedSalaryField.classList.add('hidden');

        // 重置选择
        document.getElementById('expectedIndustry').value = '';
        document.getElementById('expectedSalary').value = '';
      }
    }






        //是否有就业意愿与培训意向行业的关联
        // 获取DOM元素
        const trainingRadios = document.querySelectorAll('input[name="trainingDesire"]');
        const trainingIntentionField = document.getElementById('trainingIntentionField');

        // 初始检查
        checkTrainingDesire();

        // 添加事件监听器
        trainingRadios.forEach(radio => {
          radio.addEventListener('change', checkTrainingDesire);
        });

        // 检查培训意愿状态并更新UI
        function checkTrainingDesire() {
          const selectedValue = document.querySelector('input[name="trainingDesire"]:checked')?.value;

          // 控制字段显示/隐藏
          if (selectedValue === 'yes') {
            // 显示字段并添加动画
            trainingIntentionField.classList.remove('hidden');
            setTimeout(() => {
              trainingIntentionField.classList.add('animate-fadeIn');
            }, 10);
          } else {
            // 隐藏字段
            trainingIntentionField.classList.add('hidden');
            // 重置选择
            document.getElementById('trainingIntention').value = '';
          }
        }
document.addEventListener('DOMContentLoaded', function() {
  // 定义需要控制的字段及其状态映射
  const fieldMap = {
    employed: [
      'employmentLocationField',    // 就业地点
      'sameAddressField',           // 是否同常住地址
      'currentAddressContainer',    // 现居住地址（需添加父容器）
      'employmentTypeField'         // 就业形式
    ],
    unemployed: [
      'unemploymentReasonContainer', // 未就业原因（需添加父容器）
      'employmentDesireContainer'    // 是否有就业意愿（需添加父容器）
    ],
    all: [
      'employmentLocationField',
      'returnIntentionField',       // 是否有回乡就业创业意愿
      'industryIntentionField',     // 回县就业意向从事行业
      'jobTypeIntentionField',      // 回县就业意向岗位类型
      'sameAddressField',
      'currentAddressContainer',
      'employmentTypeField',
      'industryField',              // 从事行业
      'occupationField',            // 从事工种
      'businessTypeField',          // 创业类型
      'freelanceField',             // 自由职业
      'unemploymentReasonContainer',
      'employmentDesireContainer',
      'expectedIndustryField',      // 期望行业/岗位
      'expectedSalaryField'         // 期望月收入
    ]
  };

  // 获取就业状态单选按钮
  const employmentStatusRadios = document.querySelectorAll('input[name="employmentStatus"]');
  // 缓存所有字段元素
  const fields = {};
  fieldMap.all.forEach(id => {
    fields[id] = document.getElementById(id);
  });

  // 更新字段可见性及必填属性
  function updateFields(status) {
    // 先隐藏所有就业相关字段并移除必填属性
    fieldMap.all.forEach(id => {
      if (fields[id]) {
        fields[id].classList.add('hidden');

        // 保存并移除必填属性
        const inputs = fields[id].querySelectorAll('input[required], select[required]');
        inputs.forEach(input => {
          input.dataset.required = 'true';
          input.removeAttribute('required');
        });
      }
    });

    // 根据状态显示对应字段并恢复必填属性
    if (status === 'employed') {
      fieldMap.employed.forEach(id => {
        if (fields[id]) {
          fields[id].classList.remove('hidden');

          // 恢复必填属性
          const inputs = fields[id].querySelectorAll('input[data-required="true"], select[data-required="true"]');
          inputs.forEach(input => {
            input.setAttribute('required', 'true');
          });
        }
      });
    } else if (status === 'unemployed') {
      fieldMap.unemployed.forEach(id => {
        if (fields[id]) {
          fields[id].classList.remove('hidden');

          // 恢复必填属性
          const inputs = fields[id].querySelectorAll('input[data-required="true"], select[data-required="true"]');
          inputs.forEach(input => {
            input.setAttribute('required', 'true');
          });
        }
      });
    }
    // 状态为空时保持所有字段隐藏（已在上方处理）
  }

  // 监听就业状态变化
  employmentStatusRadios.forEach(radio => {
    radio.addEventListener('change', function() {
      const status = this.value;
      updateFields(status);
    });
  });

  // 初始化：如果没有选中项，默认隐藏所有就业相关字段
  const selectedStatus = document.querySelector('input[name="employmentStatus"]:checked');
  if (selectedStatus) {
    updateFields(selectedStatus.value);
  } else {
    updateFields(''); // 处理未选择状态
  }
});
        //家庭信息与收支信息之间的关联逻辑
        // 获取相关元素
        const relationshipSelect = document.getElementById('relationship');
        const householdMembersContainer = document.getElementById('householdMembersContainer');
        const idNumberInput = document.getElementById('idNumber');
        const householdIdInput = document.getElementById('householdId');
        const householdIdRequired = document.getElementById('householdIdRequired');

        // 支出字段容器
        const dailyExpenseContainer = document.getElementById('dailyExpenseContainer');
        const medicalEducationExpenseContainer = document.getElementById('medicalEducationExpenseContainer');
        const otherExpenseContainer = document.getElementById('otherExpenseContainer');

        // 监听选择事件
        relationshipSelect.addEventListener('change', function() {
            const selectedValue = this.value;

            // 处理户内人数显示逻辑
            if (selectedValue === 'householder') {
                householdMembersContainer.style.display = 'block';
            } else {
                householdMembersContainer.style.display = 'none';
            }

            // 处理户主身份证号码逻辑
            if (selectedValue === 'householder') {
                householdIdInput.value = idNumberInput.value;
                householdIdInput.setAttribute('readonly', 'readonly');
                householdIdInput.classList.add('readonly-field');
                householdIdRequired.style.display = 'none';
            } else {
                householdIdInput.value = '';
                householdIdInput.removeAttribute('readonly');
                householdIdInput.classList.remove('readonly-field');
                householdIdRequired.style.display = 'inline';
            }

            // 处理支出字段显示逻辑
            if (selectedValue === 'householder') {
                dailyExpenseContainer.style.display = 'block';
                medicalEducationExpenseContainer.style.display = 'block';
                otherExpenseContainer.style.display = 'block';
            } else {
                dailyExpenseContainer.style.display = 'none';
                medicalEducationExpenseContainer.style.display = 'none';
                otherExpenseContainer.style.display = 'none';
            }
        });

        // 监听身份证号码输入变化
        idNumberInput.addEventListener('input', function() {
            if (relationshipSelect.value === 'householder') {
                householdIdInput.value = this.value;
            }
        });

        // 页面加载时检查初始状态
        window.onload = function() {
            const initialValue = relationshipSelect.value;

            // 初始化户内人数显示
            if (initialValue === 'householder') {
                householdMembersContainer.style.display = 'block';
            } else {
                householdMembersContainer.style.display = 'none';
            }

            // 初始化户主身份证号码状态
            if (initialValue === 'householder') {
                householdIdInput.setAttribute('readonly', 'readonly');
                householdIdInput.classList.add('readonly-field');
                householdIdRequired.style.display = 'none';
            } else {
                householdIdRequired.style.display = 'inline';
            }

            // 初始化支出字段显示
            if (initialValue === 'householder') {
                dailyExpenseContainer.style.display = 'block';
                medicalEducationExpenseContainer.style.display = 'block';
                otherExpenseContainer.style.display = 'block';
            } else {
                dailyExpenseContainer.style.display = 'none';
                medicalEducationExpenseContainer.style.display = 'none';
                otherExpenseContainer.style.display = 'none';
            }
        };


        //就业地址是否同常住地址
        // 获取相关元素
        const sameAddressRadios = document.querySelectorAll('input[name="sameAddress"]');
        const residentialInput = document.getElementById('residential'); // 现常住地址隐藏字段
        const currentAddressInput = document.getElementById('currentAddress'); // 现就业地址输入框

        // 初始化同步状态
        function syncAddress() {
          const isSame = document.querySelector('input[name="sameAddress"]:checked')?.value === 'yes';
          if (isSame) {
            // 同步常住地址的值到就业地址
            currentAddressInput.value = residentialInput.value;
            // 禁用就业地址输入框
            currentAddressInput.disabled = true;
            currentAddressInput.classList.add('bg-gray-50', 'cursor-not-allowed'); // 添加视觉反馈样式
          } else {
            // 允许编辑，清空值（或保留原有值）
            currentAddressInput.disabled = false;
            currentAddressInput.classList.remove('bg-gray-50', 'cursor-not-allowed');
          }
        }

        // 监听单选按钮变化
        sameAddressRadios.forEach(radio => {
          radio.addEventListener('change', syncAddress);
        });

        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', syncAddress);




        document.addEventListener('keydown', function(e) {
      // 阻止F12
      if (e.key === 'F12') {
        e.preventDefault();
        alert('禁止打开开发者工具！');
        return false;
      }
      // 阻止Ctrl+Shift+I
      if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'i') {
        e.preventDefault();
        alert('禁止打开开发者工具！');
        return false;
      }
      // 阻止Ctrl+Shift+J
      if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'j') {
        e.preventDefault();
        alert('禁止打开开发者工具！');
        return false;
      }
      // 阻止Ctrl+U
      if (e.ctrlKey && e.key.toLowerCase() === 'u') {
        e.preventDefault();
        alert('禁止查看源代码！');
        return false;
      }
    });


          // ---------------------
    // 数据模型优化
    // ---------------------
    // 户籍地址数据模型(县镇村)
    const householdAddressData = {
      counties: [
        { id: '1', name: '海淀区' },
        { id: '2', name: '朝阳区' },
        { id: '3', name: '昌平区' }
      ],
      towns: {
        '1': [
          { id: '101', name: '中关村街道' },
          { id: '102', name: '海淀街道' },
          { id: '103', name: '东升镇' }
        ],
        '2': [
          { id: '201', name: '朝外街道' },
          { id: '202', name: '三里屯街道' },
          { id: '203', name: '劲松街道' }
        ],
        '3': [
          { id: '301', name: '城北街道' },
          { id: '302', name: '南口地区' },
          { id: '303', name: '马池口地区' }
        ]
      },
      villages: {
        '101': [
          { id: '1001', name: '科源社区' },
          { id: '1002', name: '航天社区' },
          { id: '1003', name: '科春社区' }
        ],
        '102': [
          { id: '1004', name: '海淀路社区' },
          { id: '1005', name: '芙蓉里社区' },
          { id: '1006', name: '麦钟桥社区' }
        ],
        '201': [
          { id: '2001', name: '南营房社区' },
          { id: '2002', name: '工体西路社区' },
          { id: '2003', name: '吉庆里社区' }
        ]
      }
    };

    // 城市地址数据模型(省市区)，居住地址和就业地址共用此数据
    const cityAddressData = {
      provinces: [
        { id: '100', name: '北京市' },
        { id: '101', name: '上海市' },
        { id: '102', name: '广东省' }
      ],
      cities: {
        '100': [
          { id: '10001', name: '北京市' }
        ],
        '101': [
          { id: '10101', name: '上海市' }
        ],
        '102': [
          { id: '10201', name: '广州市' },
          { id: '10202', name: '深圳市' },
          { id: '10203', name: '珠海市' }
        ]
      },
      districts: {
        '10001': [
          { id: '100001', name: '东城区' },
          { id: '100002', name: '西城区' },
          { id: '100003', name: '朝阳区' }
        ],
        '10101': [
          { id: '101001', name: '黄浦区' },
          { id: '101002', name: '徐汇区' },
          { id: '101003', name: '长宁区' }
        ],
        '10201': [
          { id: '102001', name: '天河区' },
          { id: '102002', name: '越秀区' },
          { id: '102003', name: '海珠区' }
        ]
      }
    };

    // ---------------------
    // 核心功能函数优化
    // ---------------------
    /**
     * 初始化三级地址选择器(县镇村)
     * @param {string} countySelectId 县级选择器ID
     * @param {string} townSelectId 镇级选择器ID
     * @param {string} villageSelectId 村级选择器ID
     * @param {object} data 地址数据对象
     */
    function initThreeLevelAddressSelector(
      countySelectId, townSelectId, villageSelectId,
      data
    ) {
      const countySelect = document.getElementById(countySelectId);
      const townSelect = document.getElementById(townSelectId);
      const villageSelect = document.getElementById(villageSelectId);

      // 初始化县级选项
      data.counties.forEach(county => {
        const option = document.createElement('option');
        option.value = county.id;
        option.textContent = county.name;
        countySelect.appendChild(option);
      });

      // 县级选择变化事件 - 新增同步逻辑
      countySelect.addEventListener('change', function() {
        const selectedId = this.value;
        updateDependentSelector(townSelect, villageSelect, data.towns, selectedId, '请先选择县');
        updateAddressSync('household'); // 新增：更新地址同步
      });

      // 镇级选择变化事件 - 新增同步逻辑
      townSelect.addEventListener('change', function() {
        const selectedId = this.value;
        updateDependentSelector(villageSelect, null, data.villages, selectedId, '请先选择镇');
        updateAddressSync('household'); // 新增：更新地址同步
      });

      // 村级选择变化事件 - 新增同步逻辑
      villageSelect.addEventListener('change', function() {
        updateAddressSync('household'); // 新增：更新地址同步
      });
    }

    /**
     * 初始化城市地址选择器(省市区)
     * @param {string} provinceSelectId 省级选择器ID
     * @param {string} citySelectId 市级选择器ID
     * @param {string} districtSelectId 区级选择器ID
     * @param {object} data 地址数据对象
     * @param {string} sameCheckboxId 同步复选框ID
     * @param {string} textDivId 文本显示区域ID
     * @param {string} fieldsDivId 选择器区域ID
     * @param {string} inputId 文本输入框ID
     * @param {string} syncFromId 同步源ID(可选)
     */
    function initCityAddressSelector(
      provinceSelectId, citySelectId, districtSelectId,
      data, sameCheckboxId, textDivId, fieldsDivId, inputId,
      syncFromId = null
    ) {
      const provinceSelect = document.getElementById(provinceSelectId);
      const citySelect = document.getElementById(citySelectId);
      const districtSelect = document.getElementById(districtSelectId);
      const sameCheckbox = document.getElementById(sameCheckboxId);
      const textDiv = document.getElementById(textDivId);
      const fieldsDiv = document.getElementById(fieldsDivId);
      const input = document.getElementById(inputId);
      const syncFromElement = syncFromId ? document.getElementById(syncFromId) : null;

      // 初始化省级选项
      data.provinces.forEach(province => {
        const option = document.createElement('option');
        option.value = province.id;
        option.textContent = province.name;
        provinceSelect.appendChild(option);
      });

      // 省级选择变化事件 - 新增同步逻辑
      provinceSelect.addEventListener('change', function() {
        const selectedId = this.value;
        updateCityDistrictSelector(citySelect, districtSelect, data.cities, data.districts, selectedId, '请先选择省份', '请先选择城市');
        updateAddressSync(provinceSelectId.includes('residence') ? 'residence' : 'work'); // 新增：更新地址同步
      });

      // 市级选择变化事件 - 新增同步逻辑
      citySelect.addEventListener('change', function() {
        const selectedId = this.value;
        updateCityDistrictSelector(districtSelect, null, null, data.districts, selectedId, '请先选择城市');
        updateAddressSync(provinceSelectId.includes('residence') ? 'residence' : 'work'); // 新增：更新地址同步
      });

      // 区级选择变化事件 - 新增同步逻辑
      districtSelect.addEventListener('change', function() {
        updateAddressSync(provinceSelectId.includes('residence') ? 'residence' : 'work'); // 新增：更新地址同步
      });

      // 同步复选框变化事件
      sameCheckbox.addEventListener('change', function() {
        if (this.checked) {
          // 重置选择器
          provinceSelect.value = '';
          citySelect.value = '';
          districtSelect.value = '';

          // 切换显示状态
          fieldsDiv.classList.add('hidden');
          textDiv.classList.remove('hidden');
          provinceSelect.disabled = true;
          citySelect.disabled = true;
          districtSelect.disabled = true;

          // 更新同步地址
          updateSyncedAddress(input, syncFromElement);
        } else {
          // 切换显示状态
          fieldsDiv.classList.remove('hidden');
          textDiv.classList.add('hidden');
          provinceSelect.disabled = false;

          // 更新下级选择器状态
          const hasProvince = provinceSelect.value !== '';
          citySelect.disabled = !hasProvince;

          const hasCity = citySelect.value !== '';
          districtSelect.disabled = !hasCity;
        }

        // 更新相关同步状态
        if (sameCheckboxId === 'sameAsHousehold') {
          updateAddressSyncState('residence');
        }
      });

      // 监听同步源变化
      if (syncFromElement) {
        syncFromElement.addEventListener('change', function() {
          if (sameCheckbox.checked) {
            updateSyncedAddress(input, syncFromElement);
          }
        });
      }
    }

    /**
     * 更新依赖选择器
     * @param {object} mainSelect 主要选择器元素
     * @param {object} nextSelect 下一级选择器元素(可选)
     * @param {object} dataMap 数据映射对象
     * @param {string} parentId 父级ID
     * @param {string} placeholder 占位文本
     */
    function updateDependentSelector(mainSelect, nextSelect, dataMap, parentId, placeholder) {
      mainSelect.innerHTML = `<option value="">${placeholder}</option>`;

      if (nextSelect) nextSelect.disabled = true;

      if (parentId) {
        mainSelect.disabled = false;
        const options = dataMap[parentId] || [];

        options.forEach(item => {
          const option = document.createElement('option');
          option.value = item.id;
          option.textContent = item.name;
          mainSelect.appendChild(option);
        });

        if (nextSelect) {
          nextSelect.innerHTML = `<option value="">请先选择${mainSelect.id.includes('City') ? '城市' : '镇'}</option>`;
          nextSelect.disabled = true;
        }
      } else {
        mainSelect.disabled = true;
        if (nextSelect) nextSelect.disabled = true;
      }
    }

    /**
     * 更新城市/区选择器
     * @param {object} mainSelect 主要选择器元素
     * @param {object} nextSelect 下一级选择器元素(可选)
     * @param {object} cityDataMap 城市数据映射
     * @param {object} districtDataMap 区域数据映射
     * @param {string} parentId 父级ID
     * @param {string} mainPlaceholder 主要选择器占位文本
     * @param {string} nextPlaceholder 下一级选择器占位文本(可选)
     */
    function updateCityDistrictSelector(mainSelect, nextSelect, cityDataMap, districtDataMap, parentId, mainPlaceholder, nextPlaceholder = '') {
      mainSelect.innerHTML = `<option value="">${mainPlaceholder}</option>`;

      if (nextSelect) nextSelect.innerHTML = nextPlaceholder ? `<option value="">${nextPlaceholder}</option>` : '';

      if (parentId) {
        mainSelect.disabled = false;
        const options = cityDataMap ? cityDataMap[parentId] || [] : districtDataMap[parentId] || [];

        options.forEach(item => {
          const option = document.createElement('option');
          option.value = item.id;
          option.textContent = item.name;
          mainSelect.appendChild(option);
        });

        if (nextSelect) {
          nextSelect.innerHTML = `<option value="">请先选择${mainSelect.id.includes('City') ? '城市' : '区'}</option>`;
          nextSelect.disabled = true;
        }
      } else {
        mainSelect.disabled = true;
        if (nextSelect) nextSelect.disabled = true;
      }
    }

    /**
     * 更新同步地址文本
     * @param {object} input 输入框元素
     * @param {object} syncFrom 同步源元素
     */
    function updateSyncedAddress(input, syncFrom) {
      if (!syncFrom) return;

      let addressText = '';

      // 判断同步源类型
      if (syncFrom.id.includes('household')) {
        // 同步户籍地址
        const county = document.getElementById('householdCounty');
        const town = document.getElementById('householdTown');
        const village = document.getElementById('householdVillage');

        if (county.value) addressText += county.options[county.selectedIndex].text;
        if (town.value) addressText += ` ${town.options[town.selectedIndex].text}`;
        if (village.value) addressText += ` ${village.options[village.selectedIndex].text}`;
      } else {
        // 同步居住地址
        const province = document.getElementById('residenceProvince');
        const city = document.getElementById('residenceCity');
        const district = document.getElementById('residenceDistrict');

        // 优先使用居住地址选择器的值
        if (province.value || city.value || district.value) {
          if (province.value) addressText += province.options[province.selectedIndex].text;
          if (city.value) addressText += ` ${city.options[city.selectedIndex].text}`;
          if (district.value) addressText += ` ${district.options[district.selectedIndex].text}`;
        } else {
          // 居住地址未选择时使用户籍地址
          const county = document.getElementById('householdCounty');
          const town = document.getElementById('householdTown');
          const village = document.getElementById('householdVillage');

          if (county.value) addressText += county.options[county.selectedIndex].text;
          if (town.value) addressText += ` ${town.options[town.selectedIndex].text}`;
          if (village.value) addressText += ` ${village.options[village.selectedIndex].text}`;
        }
      }

      input.value = addressText || '地址将自动同步';
    }

    /**
     * 检查地址是否有效
     * @param {string} addressType 地址类型(household/residence/work)
     * @returns {boolean} 地址是否有效
     */
    function isAddressValid(addressType) {
      if (addressType === 'household') {
        const county = document.getElementById('householdCounty');
        const town = document.getElementById('householdTown');
        const village = document.getElementById('householdVillage');
        return county.value && town.value && village.value;
      }

      if (addressType === 'residence') {
        const sameAsHousehold = document.getElementById('sameAsHousehold');
        if (sameAsHousehold.checked) {
          return isAddressValid('household');
        } else {
          const province = document.getElementById('residenceProvince');
          const city = document.getElementById('residenceCity');
          const district = document.getElementById('residenceDistrict');
          return province.value && city.value && district.value;
        }
      }

      if (addressType === 'work') {
        const sameAsResidence = document.getElementById('sameAsResidence');
        if (sameAsResidence.checked) {
          return isAddressValid('residence');
        } else {
          const province = document.getElementById('workProvince');
          const city = document.getElementById('workCity');
          const district = document.getElementById('workDistrict');
          return province.value && city.value && district.value;
        }
      }

      return false;
    }

    /**
     * 更新地址同步状态
     * @param {string} addressType 地址类型(household/residence/work)
     */
    function updateAddressSyncState(addressType) {
      if (addressType === 'household') {
        // 更新同户籍地址复选框状态
        const checkbox = document.getElementById('sameAsHousehold');
        checkbox.disabled = !isAddressValid('household');
      } else if (addressType === 'residence') {
        // 更新同居住地址复选框状态
        const checkbox = document.getElementById('sameAsResidence');
        checkbox.disabled = !isAddressValid('residence');

        // 如果居住地址已填写，更新就业地址同步状态
        if (isAddressValid('residence')) {
          updateSyncedAddress(document.getElementById('workAddressInput'), document.getElementById('residenceProvince'));
        }
      } else if (addressType === 'work') {
        // 如果就业地址已填写，无需操作
        // 就业地址同步状态由居住地址变化触发
      }
    }

    /**
     * 地址变更时更新同步地址
     * @param {string} addressType 地址类型(household/residence/work)
     */
    function updateAddressSync(addressType) {
      if (addressType === 'household') {
        // 户籍地址变更时，更新居住地址同步状态
        const sameAsHousehold = document.getElementById('sameAsHousehold');
        if (sameAsHousehold.checked) {
          updateSyncedAddress(document.getElementById('residenceAddressInput'), document.getElementById('householdCounty'));
        }
        updateAddressSyncState('household');
      } else if (addressType === 'residence') {
        // 居住地址变更时，更新就业地址同步状态
        const sameAsResidence = document.getElementById('sameAsResidence');
        if (sameAsResidence.checked) {
          updateSyncedAddress(document.getElementById('workAddressInput'), document.getElementById('residenceProvince'));
        }
        updateAddressSyncState('residence');
      }
    }

    // ---------------------
    // 页面初始化
    // ---------------------
    document.addEventListener('DOMContentLoaded', function() {
      // 初始化户籍地址选择器
      initThreeLevelAddressSelector(
        'householdCounty', 'householdTown', 'householdVillage',
        householdAddressData
      );

      // 初始化居住地址选择器
      initCityAddressSelector(
        'residenceProvince', 'residenceCity', 'residenceDistrict',
        cityAddressData, 'sameAsHousehold', 'residenceAddressText', 'residenceAddressFields', 'residenceAddressInput',
        'householdCounty'
      );

      // 初始化就业地址选择器
      initCityAddressSelector(
        'workProvince', 'workCity', 'workDistrict',
        cityAddressData, 'sameAsResidence', 'workAddressText', 'workAddressFields', 'workAddressInput',
        'residenceProvince'
      );

      // 初始检查地址同步状态
      updateAddressSyncState('household');
      updateAddressSyncState('residence');

      // 模拟加载完成，显示内容
      setTimeout(() => {
        document.getElementById('loader').classList.add('opacity-0');
        setTimeout(() => {
          document.getElementById('loader').style.display = 'none';
          document.getElementById('content').classList.remove('opacity-0');
        }, 500);
      }, 1000);
    });


  </script>
</body>
</html>
